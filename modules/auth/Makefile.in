# Copyright (c) 2009 Atheme Development Group
# Rights to this code are documented in doc/LICENSE.
#
# This file contains build instructions.
#

MODULE = auth

include ../Makefile.defs

MKDEP		= @MKDEP@ -DPREFIX=\"@prefix@\" -I../../include
CFLAGS		= -I../../include @CFLAGS@
LDFLAGS		= @LDFLAGS@
LDAP_CFLAGS	= @LDAP_CFLAGS@
LDAP_LIBS	= @LDAP_LIBS@

# Note that ../Makefile.common requires there always be at least one module
BASE_SRCS =				\
	dummy.c				\
	@LDAP_AUTHC@

include ../Makefile.common

ldap.so: $(SRCDIR)/ldap.c
	${CC} ${PICFLAGS} ${CPPFLAGS} ${CFLAGS} ${LDFLAGS} -o $@ ${SRCDIR}/ldap.c ${LDAP_CFLAGS} ${LDAP_LIBS}
