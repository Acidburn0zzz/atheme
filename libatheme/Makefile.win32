#
# $Id: Makefile.in 1847 2005-08-24 07:00:42Z nenolod $
#

CC		= gcc
INSTALL		= 
RM		= del
CFLAGS		= -mno-cygwin -Wall -I../win32 -g
LDFLAGS		= ../win32/regex.c
MV		= ren
AR		= ar
RANLIB		= ranlib

INCLUDES = -I. -I../include
CPPFLAGS = ${INCLUDES} 
SOCKET_ENGINE = select.c

SOURCES = \
	balloc.c	\
	callback.c	\
	connection.c	\
	dlink.c		\
	event.c		\
	hook.c		\
	libatheme.c	\
	linker.c	\
	memory.c	\
	sockio.c	\
	string.c	\
	win32.c		\
	${SOCKET_ENGINE}

OBJS=${SOURCES:.c=.o}

all: libatheme.a
build: all

# This stuff is not installed for now.
install: all
	@:

libatheme.a: ${OBJS}
	$(RM) $@
	${AR} cqv $@ ${OBJS}
	${RANLIB} $@

.c.o:
	${CC} ${CPPFLAGS} ${CFLAGS} -c $< -o $@

clean:
	${RM} *.o *.exe *~ libatheme.a

distclean: clean
	${RM} Makefile

.PHONY: install depend
